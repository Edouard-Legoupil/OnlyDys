<div class="linguistics-container">
    <h3>Linguistics & Colorisation</h3>

    <div class="control-group">
        <label class="section-label">Analysis Mode:</label>
        <div class="radio-group" id="ling-mode-radios">
            <label class="radio-label">
                <input type="radio" name="ling-mode" value="none" checked> None
            </label>
            <label class="radio-label">
                <input type="radio" name="ling-mode" value="grammar"> Grammatical Categories
            </label>
            <label class="radio-label">
                <input type="radio" name="ling-mode" value="phonemes"> Phonemes
            </label>
            <label class="radio-label">
                <input type="radio" name="ling-mode" value="syllables"> Syllables
            </label>
            <label class="radio-label">
                <input type="radio" name="ling-mode" value="silent"> Silent Letters
            </label>
            <label class="radio-label">
                <input type="radio" name="ling-mode" value="words"> Words
            </label>
            <label class="radio-label">
                <input type="radio" name="ling-mode" value="lines"> Lines
            </label>
        </div>
    </div>

    <div id="ling-options" style="margin-top: 15px; border-top: 1px dashed #ccc; padding-top: 10px;">
        <!-- Conditional Options -->
        <div id="opt-container-syllables" class="conditional-opt" style="display:none;">
            <div class="checkbox-group">
                <input type="checkbox" id="opt-arcs">
                <label for="opt-arcs">Show Syllable Arcs</label>
            </div>
        </div>

        <div id="opt-container-silent" class="conditional-opt" style="display:none;">
            <div class="checkbox-group">
                <input type="checkbox" id="opt-silent">
                <label for="opt-silent">Highlight Silent Letters (Grey)</label>
            </div>
        </div>

        <div id="opt-container-grammar" class="conditional-opt" style="display:none;">
            <div id="color-legend" class="color-legend"></div>
        </div>
    </div>

    <div class="preview-area" style="margin: 15px 0; padding: 10px; border: 1px solid #ddd; background: #fff;">
        <strong>Preview:</strong>
        <div id="ling-preview">L'oiseau chante sur la branche.</div>
    </div>

    <div class="actions">
        <button id="btn-apply-ling" class="primary">Apply to Selection</button>
        <button id="btn-reset-ling">Remove Formatting</button>
    </div>

    <div id="ling-status" style="margin-top: 10px; font-size: 0.9em; color: #666;"></div>

    <hr style="margin: 20px 0; border: 0; border-top: 1px solid #ccc;">

    <h3>Global Formatting</h3>

    <div class="toggle-switch-container" style="margin-bottom: 10px;">
        <label class="switch">
            <input type="checkbox" id="toggle-global-style">
            <span class="slider round"></span>
        </label>
        <span id="global-style-status" style="margin-left: 10px; font-weight: bold;">Disabled</span>
    </div>
    <p class="help-text" style="font-size: 0.85em; color: #666;">Applies OpenDyslexic font and enhanced spacing to the
        entire document.</p>
</div>

<style>
    .linguistics-container {
        padding: 10px;
    }

    .control-group {
        margin-bottom: 10px;
    }

    .checkbox-group {
        margin-bottom: 5px;
    }

    .primary {
        background-color: #4CAF50;
        color: white;
        border: none;
        padding: 8px 16px;
        cursor: pointer;
    }

    button {
        padding: 8px 16px;
        cursor: pointer;
    }
</style>